{
  "_format": "hh-sol-artifact-1",
  "contractName": "AP2",
  "sourceName": "contracts/AP2.sol",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "OwnableInvalidOwner",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "OwnableUnauthorizedAccount",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "agent",
          "type": "address"
        }
      ],
      "name": "AgentRegistered",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "agent",
          "type": "address"
        }
      ],
      "name": "AgentUnregistered",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "purchaseId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "agent",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "PurchaseExecuted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "purchaseId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "buyer",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "courseId",
          "type": "uint256"
        }
      ],
      "name": "PurchaseInitiated",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "agents",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "purchaseId",
          "type": "uint256"
        }
      ],
      "name": "emergencyWithdraw",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "purchaseId",
          "type": "uint256"
        }
      ],
      "name": "executePurchase",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "purchaseId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "courseId",
          "type": "uint256"
        }
      ],
      "name": "initiatePurchase",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "purchases",
      "outputs": [
        {
          "internalType": "address",
          "name": "buyer",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "courseId",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "executed",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "createdAt",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "agent",
          "type": "address"
        }
      ],
      "name": "registerAgent",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "agent",
          "type": "address"
        }
      ],
      "name": "unregisterAgent",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50338061003757604051631e4fbdf760e01b81526000600482015260240160405180910390fd5b61004081610046565b50610096565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b610c44806100a56000396000f3fe608060405234801561001057600080fd5b506004361061009e5760003560e01c8063715018a611610066578063715018a6146101045780638392fe311461010c5780638da5cb5b146101b6578063f2fde38b146101d1578063fd66091e146101e457600080fd5b80632812e57a146100a3578063306b9bb9146100b85780633826b9bc146100cb57806342d0b85e146100de5780635312ea8e146100f1575b600080fd5b6100b66100b1366004610b3c565b610217565b005b6100b66100c6366004610b8a565b610508565b6100b66100d9366004610b8a565b61055c565b6100b66100ec366004610bac565b6105ad565b6100b66100ff366004610bac565b61083c565b6100b6610a51565b61016c61011a366004610bac565b600160208190526000918252604090912080549181015460028201546003830154600484015460058501546006909501546001600160a01b039687169694851695939490921692909160ff9091169087565b604080516001600160a01b0398891681529688166020880152860194909452949091166060840152608083015291151560a082015260c081019190915260e0015b60405180910390f35b6000546040516001600160a01b0390911681526020016101ad565b6100b66101df366004610b8a565b610a65565b6102076101f2366004610b8a565b60026020526000908152604090205460ff1681565b60405190151581526020016101ad565b6000858152600160205260409020546001600160a01b0316156102815760405162461bcd60e51b815260206004820152601760248201527f507572636861736520616c72656164792065786973747300000000000000000060448201526064015b60405180910390fd5b600083116102c65760405162461bcd60e51b81526020600482015260126024820152710416d6f756e74206d757374206265203e20360741b6044820152606401610278565b6040516323b872dd60e01b8152336004820152306024820152604481018490526000906001600160a01b038616906323b872dd906064016020604051808303816000875af115801561031c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103409190610bc5565b9050806103875760405162461bcd60e51b8152602060048201526015602482015274151bdad95b881d1c985b9cd9995c8819985a5b1959605a1b6044820152606401610278565b6040518060e00160405280336001600160a01b03168152602001866001600160a01b03168152602001858152602001846001600160a01b03168152602001838152602001600015158152602001428152506001600088815260200190815260200160002060008201518160000160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060208201518160010160006101000a8154816001600160a01b0302191690836001600160a01b031602179055506040820151816002015560608201518160030160006101000a8154816001600160a01b0302191690836001600160a01b031602179055506080820151816004015560a08201518160050160006101000a81548160ff02191690831515021790555060c08201518160060155905050336001600160a01b0316867febc4bdc648553c9d41845dd430429393cd0689eafc9dd4a81ec3ac433d16ff4686856040516104f8929190918252602082015260400190565b60405180910390a3505050505050565b610510610aa3565b6001600160a01b038116600081815260026020526040808220805460ff19166001179055517f82d0829d9d481e4cb9913897f9b9c903271c4db68c7b3324071d2a7e3b2c5ff09190a250565b610564610aa3565b6001600160a01b038116600081815260026020526040808220805460ff19169055517f3e085cc53b86c19e2e6dba628297af6b8f76c89d1384dbcc599bab2adfd62d089190a250565b3360009081526002602052604090205460ff1661060c5760405162461bcd60e51b815260206004820152601760248201527f4e6f7420616e20617574686f72697a6564206167656e740000000000000000006044820152606401610278565b600081815260016020526040902080546001600160a01b03166106665760405162461bcd60e51b8152602060048201526012602482015271141d5c98da185cd9481b9bdd08199bdd5b9960721b6044820152606401610278565b600581015460ff16156106ae5760405162461bcd60e51b815260206004820152601060248201526f105b1c9958591e48195e1958dd5d195960821b6044820152606401610278565b60008160020154116106f85760405162461bcd60e51b81526020600482015260136024820152722737ba3434b733903a37903a3930b739b332b960691b6044820152606401610278565b60058101805460ff191660019081179091558101546003820154600283015460405163a9059cbb60e01b81526001600160a01b0392831660048201526024810191909152600092919091169063a9059cbb906044016020604051808303816000875af115801561076c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107909190610bc5565b9050806107ea5760405162461bcd60e51b815260206004820152602260248201527f546f6b656e207472616e7366657220746f20726563697069656e74206661696c604482015261195960f21b6064820152608401610278565b600382015460028301546040519081526001600160a01b0390911690339085907f5af1bfe77d7fe0d2803a709c9fee9950632b24844ab65777cb63404e28b8dd939060200160405180910390a4505050565b610844610aa3565b600081815260016020526040902080546001600160a01b031661089e5760405162461bcd60e51b8152602060048201526012602482015271141d5c98da185cd9481b9bdd08199bdd5b9960721b6044820152606401610278565b600581015460ff16156108e65760405162461bcd60e51b815260206004820152601060248201526f105b1c9958591e48195e1958dd5d195960821b6044820152606401610278565b60068101546108f89062278d00610be7565b4210156109475760405162461bcd60e51b815260206004820181905260248201527f546f6f206561726c7920666f7220656d657267656e63792077697468647261776044820152606401610278565b60028101805460009182905560058301805460ff191660019081179091558301549091906001600160a01b031663a9059cbb61098b6000546001600160a01b031690565b6040516001600160e01b031960e084901b1681526001600160a01b039091166004820152602481018590526044016020604051808303816000875af11580156109d8573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109fc9190610bc5565b905080610a4b5760405162461bcd60e51b815260206004820152601960248201527f456d657267656e6379207472616e73666572206661696c6564000000000000006044820152606401610278565b50505050565b610a59610aa3565b610a636000610ad0565b565b610a6d610aa3565b6001600160a01b038116610a9757604051631e4fbdf760e01b815260006004820152602401610278565b610aa081610ad0565b50565b6000546001600160a01b03163314610a635760405163118cdaa760e01b8152336004820152602401610278565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b80356001600160a01b0381168114610b3757600080fd5b919050565b600080600080600060a08688031215610b5457600080fd5b85359450610b6460208701610b20565b935060408601359250610b7960608701610b20565b949793965091946080013592915050565b600060208284031215610b9c57600080fd5b610ba582610b20565b9392505050565b600060208284031215610bbe57600080fd5b5035919050565b600060208284031215610bd757600080fd5b81518015158114610ba557600080fd5b80820180821115610c0857634e487b7160e01b600052601160045260246000fd5b9291505056fea2646970667358221220776dc001152bb52014cea8209cf9d5a431667ba332732bd24128b8099a57740464736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061009e5760003560e01c8063715018a611610066578063715018a6146101045780638392fe311461010c5780638da5cb5b146101b6578063f2fde38b146101d1578063fd66091e146101e457600080fd5b80632812e57a146100a3578063306b9bb9146100b85780633826b9bc146100cb57806342d0b85e146100de5780635312ea8e146100f1575b600080fd5b6100b66100b1366004610b3c565b610217565b005b6100b66100c6366004610b8a565b610508565b6100b66100d9366004610b8a565b61055c565b6100b66100ec366004610bac565b6105ad565b6100b66100ff366004610bac565b61083c565b6100b6610a51565b61016c61011a366004610bac565b600160208190526000918252604090912080549181015460028201546003830154600484015460058501546006909501546001600160a01b039687169694851695939490921692909160ff9091169087565b604080516001600160a01b0398891681529688166020880152860194909452949091166060840152608083015291151560a082015260c081019190915260e0015b60405180910390f35b6000546040516001600160a01b0390911681526020016101ad565b6100b66101df366004610b8a565b610a65565b6102076101f2366004610b8a565b60026020526000908152604090205460ff1681565b60405190151581526020016101ad565b6000858152600160205260409020546001600160a01b0316156102815760405162461bcd60e51b815260206004820152601760248201527f507572636861736520616c72656164792065786973747300000000000000000060448201526064015b60405180910390fd5b600083116102c65760405162461bcd60e51b81526020600482015260126024820152710416d6f756e74206d757374206265203e20360741b6044820152606401610278565b6040516323b872dd60e01b8152336004820152306024820152604481018490526000906001600160a01b038616906323b872dd906064016020604051808303816000875af115801561031c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103409190610bc5565b9050806103875760405162461bcd60e51b8152602060048201526015602482015274151bdad95b881d1c985b9cd9995c8819985a5b1959605a1b6044820152606401610278565b6040518060e00160405280336001600160a01b03168152602001866001600160a01b03168152602001858152602001846001600160a01b03168152602001838152602001600015158152602001428152506001600088815260200190815260200160002060008201518160000160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060208201518160010160006101000a8154816001600160a01b0302191690836001600160a01b031602179055506040820151816002015560608201518160030160006101000a8154816001600160a01b0302191690836001600160a01b031602179055506080820151816004015560a08201518160050160006101000a81548160ff02191690831515021790555060c08201518160060155905050336001600160a01b0316867febc4bdc648553c9d41845dd430429393cd0689eafc9dd4a81ec3ac433d16ff4686856040516104f8929190918252602082015260400190565b60405180910390a3505050505050565b610510610aa3565b6001600160a01b038116600081815260026020526040808220805460ff19166001179055517f82d0829d9d481e4cb9913897f9b9c903271c4db68c7b3324071d2a7e3b2c5ff09190a250565b610564610aa3565b6001600160a01b038116600081815260026020526040808220805460ff19169055517f3e085cc53b86c19e2e6dba628297af6b8f76c89d1384dbcc599bab2adfd62d089190a250565b3360009081526002602052604090205460ff1661060c5760405162461bcd60e51b815260206004820152601760248201527f4e6f7420616e20617574686f72697a6564206167656e740000000000000000006044820152606401610278565b600081815260016020526040902080546001600160a01b03166106665760405162461bcd60e51b8152602060048201526012602482015271141d5c98da185cd9481b9bdd08199bdd5b9960721b6044820152606401610278565b600581015460ff16156106ae5760405162461bcd60e51b815260206004820152601060248201526f105b1c9958591e48195e1958dd5d195960821b6044820152606401610278565b60008160020154116106f85760405162461bcd60e51b81526020600482015260136024820152722737ba3434b733903a37903a3930b739b332b960691b6044820152606401610278565b60058101805460ff191660019081179091558101546003820154600283015460405163a9059cbb60e01b81526001600160a01b0392831660048201526024810191909152600092919091169063a9059cbb906044016020604051808303816000875af115801561076c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107909190610bc5565b9050806107ea5760405162461bcd60e51b815260206004820152602260248201527f546f6b656e207472616e7366657220746f20726563697069656e74206661696c604482015261195960f21b6064820152608401610278565b600382015460028301546040519081526001600160a01b0390911690339085907f5af1bfe77d7fe0d2803a709c9fee9950632b24844ab65777cb63404e28b8dd939060200160405180910390a4505050565b610844610aa3565b600081815260016020526040902080546001600160a01b031661089e5760405162461bcd60e51b8152602060048201526012602482015271141d5c98da185cd9481b9bdd08199bdd5b9960721b6044820152606401610278565b600581015460ff16156108e65760405162461bcd60e51b815260206004820152601060248201526f105b1c9958591e48195e1958dd5d195960821b6044820152606401610278565b60068101546108f89062278d00610be7565b4210156109475760405162461bcd60e51b815260206004820181905260248201527f546f6f206561726c7920666f7220656d657267656e63792077697468647261776044820152606401610278565b60028101805460009182905560058301805460ff191660019081179091558301549091906001600160a01b031663a9059cbb61098b6000546001600160a01b031690565b6040516001600160e01b031960e084901b1681526001600160a01b039091166004820152602481018590526044016020604051808303816000875af11580156109d8573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109fc9190610bc5565b905080610a4b5760405162461bcd60e51b815260206004820152601960248201527f456d657267656e6379207472616e73666572206661696c6564000000000000006044820152606401610278565b50505050565b610a59610aa3565b610a636000610ad0565b565b610a6d610aa3565b6001600160a01b038116610a9757604051631e4fbdf760e01b815260006004820152602401610278565b610aa081610ad0565b50565b6000546001600160a01b03163314610a635760405163118cdaa760e01b8152336004820152602401610278565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b80356001600160a01b0381168114610b3757600080fd5b919050565b600080600080600060a08688031215610b5457600080fd5b85359450610b6460208701610b20565b935060408601359250610b7960608701610b20565b949793965091946080013592915050565b600060208284031215610b9c57600080fd5b610ba582610b20565b9392505050565b600060208284031215610bbe57600080fd5b5035919050565b600060208284031215610bd757600080fd5b81518015158114610ba557600080fd5b80820180821115610c0857634e487b7160e01b600052601160045260246000fd5b9291505056fea2646970667358221220776dc001152bb52014cea8209cf9d5a431667ba332732bd24128b8099a57740464736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
